{
    "$id": "schemas/event",
    "type": "object",
    "title": "Event",
    "description": "An event associated with DOGE staff doing something",
    "properties": {
        "id": {
            "type": "string",
            "description": "A short-randomly generated UUID",
            "$comment": "These are generated by the sort_events processing script if they don't already exist in the file",
            "format": "^[A-Za-z0-9]{8}$"
        },
        "date": {
            "type": "string",
            "description": "A date in format YYYY-MM-DD but following the Extended Date Time Format (https://www.loc.gov/standards/datetime/) which supports notation for approximations",
            "pattern": "^/?(2024|2025)-.+$"
        },
        "time": {
            "type": "string",
            "description": "An optional time value in the form HH:MM (24-hour format)",
            "pattern": "^([01][0-9]|2[0-3]):[0-5][0-9]$"
        },
        "event": {
            "type": "string",
            "description": "A description of the DOGE-related event"
        },
        "fuzz": {
            "type": "string",
            "description": "This field is used to explain if the event has some fuzziness associated it and why"
        },
        "comment": {
            "type": "string",
            "description": "For making any comments about the event notes"
        },
        "agency": {
            "description": "Can be a single agency or an array of agencies affected/involved in the event",
            "anyOf": [
                {
                    "$ref": "valid_names.json#agency_ids"
                },
                {
                    "type": "array",
                    "items": {
                        "$ref": "valid_names.json#agency_ids"
                    }
                }
            ]
        },
        "named": {
            "type": "array",
            "description": "A list of DOGE staff named with the event",
            "items": {
                "description": "The names of DOGE staff in the incident.",
                "$ref": "valid_names.json#people"
            }
        },
        "interagency_doge_reps": {
            "description": "A list of DOGE staff representing different agencies at interagency meetings",
            "type": "object",
            "propertySchema": {
                "type": "array",
                "items": {
                    "$ref": "valid_names.json#people"
                }
            },
            "propertyNames": {
                "$ref": "valid_names.json#agency_ids"
            }
        },
        "named_aliases": {
            "type": "array",
            "description": "A list of aliased names associated with the name (common in redacted court filings / FOIAs)",
            "items": {
                "type": "string"
            }
        },
        "mapped_aliases": {
            "type": "object",
            "description": "A mapping of aliases to name we have confidently identified",
            "propertyNames": {
                "type": "string",
                "description": "The alias"
            },
            "additionalProperties": {
                "$ref": "valid_names.json#people"
            }
        },
        "source": {
            "type": "string",
            "description": "A URL of the source for the information in the event",
            "format": "uri"
        },
        "source_title": {
            "type": "string",
            "description": "The title of the original source (eg, a news article title or legal case)"
        },
        "source_name": {
            "type": "string",
            "description": "If it's a publication, the name of the publication"
        },
        "type": {
            "description": "The type of the event",
            "$ref": "valid_names.json#event_types"
        },
        "access_type": {
            "description": "The type of the access granted/changed to",
            "$ref": "valid_names.json#access_types"
        },
        "access_systems": {
            "description": "The systems access granted/changed/revoked for",
            "type": "array",
            "items": {
                "$ref": "valid_names.json#system_ids"
            }
        },
        "onboard_type": {
            "description": "What kind of onboarding it was for DOGE staff",
            "$ref": "valid_names.json#onboard_types"
        },
        "detailed_from": {
            "description": "The agency the staff in the event were detailed from",
            "$ref": "valid_names.json#agency_ids"
        },
        "detail_id": {
            "description": "A link to a specific record in the details.yaml data if we have info on the detail",
            "type": "string"
        },
        "case_no": {
            "description": "The relevant case_no for legal events",
            "type": "string"
        },
        "detail_info": {
            "$comment": "Populated in the generated_events file",
            "description": "The detail record inlined",
            "$ref": "detail.json"
        },
        "case_info": {
            "$comment": "Populated in the generated_events file",
            "description": "The case record inlined",
            "$ref": "case.json"
        }

    },
    "required": [
        "date",
        "event",
        "agency",
        "source",
        "type"
    ],
    "additionalProperties": false
}
